{
  "id": "1ae9bf74-594e-4801-b49a-e1b7073d8572",
  "prevId": "18e326cb-700a-4c6e-bc15-43335c6bb035",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.health_check_aggregates": {
      "name": "health_check_aggregates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "configuration_id": {
          "name": "configuration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "system_id": {
          "name": "system_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bucket_start": {
          "name": "bucket_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "bucket_size": {
          "name": "bucket_size",
          "type": "bucket_size",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "run_count": {
          "name": "run_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "healthy_count": {
          "name": "healthy_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "degraded_count": {
          "name": "degraded_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "unhealthy_count": {
          "name": "unhealthy_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "avg_latency_ms": {
          "name": "avg_latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_latency_ms": {
          "name": "min_latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_latency_ms": {
          "name": "max_latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "p95_latency_ms": {
          "name": "p95_latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "aggregated_result": {
          "name": "aggregated_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "health_check_aggregates_bucket_unique": {
          "name": "health_check_aggregates_bucket_unique",
          "columns": [
            {
              "expression": "configuration_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "system_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "bucket_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "bucket_size",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "health_check_aggregates_configuration_id_health_check_configurations_id_fk": {
          "name": "health_check_aggregates_configuration_id_health_check_configurations_id_fk",
          "tableFrom": "health_check_aggregates",
          "tableTo": "health_check_configurations",
          "columnsFrom": [
            "configuration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.health_check_configurations": {
      "name": "health_check_configurations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strategy_id": {
          "name": "strategy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "collectors": {
          "name": "collectors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "interval_seconds": {
          "name": "interval_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_template": {
          "name": "is_template",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.health_check_runs": {
      "name": "health_check_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "configuration_id": {
          "name": "configuration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "system_id": {
          "name": "system_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "health_check_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "health_check_runs_configuration_id_health_check_configurations_id_fk": {
          "name": "health_check_runs_configuration_id_health_check_configurations_id_fk",
          "tableFrom": "health_check_runs",
          "tableTo": "health_check_configurations",
          "columnsFrom": [
            "configuration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_health_checks": {
      "name": "system_health_checks",
      "schema": "",
      "columns": {
        "system_id": {
          "name": "system_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "configuration_id": {
          "name": "configuration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "state_thresholds": {
          "name": "state_thresholds",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "retention_config": {
          "name": "retention_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "system_health_checks_configuration_id_health_check_configurations_id_fk": {
          "name": "system_health_checks_configuration_id_health_check_configurations_id_fk",
          "tableFrom": "system_health_checks",
          "tableTo": "health_check_configurations",
          "columnsFrom": [
            "configuration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "system_health_checks_system_id_configuration_id_pk": {
          "name": "system_health_checks_system_id_configuration_id_pk",
          "columns": [
            "system_id",
            "configuration_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.bucket_size": {
      "name": "bucket_size",
      "schema": "public",
      "values": [
        "hourly",
        "daily"
      ]
    },
    "public.health_check_status": {
      "name": "health_check_status",
      "schema": "public",
      "values": [
        "healthy",
        "unhealthy",
        "degraded"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}